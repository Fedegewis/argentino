<div id="tope3_buscar">
                    <form id="form-buscar" class="formulario">
                        <input name="b" id="buscar_tope" type="text" value="busca" maxlength="100" placeholder="¿qué buscas?">
                    </form>
                </div>
            </div>
        </div>

                <script>
                document.getElementById('form-buscar').addEventListener('submit', function(e) {
                    e.preventDefault();
                    let busqueda = document.getElementById('buscar_tope').value.trim();
                    if(busqueda) {
                        busqueda = busqueda.replace(/\s+/g, '+'); // espacios por +
                        const url = 'https://fedegewis.github.io/mexico/' + busqueda;

                        // Verificar si la página existe
                        fetch(url, { method: 'HEAD' })
                            .then(response => {
                                if(response.ok) {
                                    window.location.href = url; // si existe, ir a la página
                                } else {
                                    window.location.href = 'https://fedegewis.github.io/'; // si no, al inicio
                                }
                            })
                            .catch(() => {
                                window.location.href = 'https://fedegewis.github.io/'; // si hay error, al inicio
                            });
                    }
                });
                </script> 






<div id="tope3_buscar">
    <form id="form-buscar" class="formulario">
        <input name="b" id="buscar_tope" type="text"  maxlength="100" placeholder="¿qué buscas?">
    </form>
</div>
<br>
<br>

<script>
    // --------------------------------------------------------------------------------
    // 1. DEFINICIÓN DE CATEGORÍAS (LISTA DE SLUGS)
    // Se asume que estos son los slugs exactos que se usan en la URL (con '+' para espacios).
    // --------------------------------------------------------------------------------
    const paginas = [
        "aberturas","abogados","accesorios+para+baño","aceites+vegetales","adiestramiento+de+perros",
        "adopcion+de+mascotas","agencias+de+modelaje","agencias+de+publicidad","aislantes","albaniles",
        "alfombras","alimentos+congelados","alimentos+dieteticos","alimentos+en+conserva",
        "alimentos+para+mascotas","alimentos+veganos","ambulancias","andamios","anticuarios","arquitectos",
        "artes+marciales","articulos+de+electricidad","articulos+de+limpieza","articulos+de+peluqueria",
        "articulos+deportivos","atletismo","autos","autobuses","autoescuelas","autos+chocados","azucar",
        "ballet","balonmano","banos+portatiles","banos+quimicos","barberias","basquet","bazares",
        "bebidas+alcoholicas","bebidas+sin+alcohol","bibliotecas","bicicleterias","billares","bowling",
        "calefaccion+y+ventilacion","camiones","camionetas","carnavales","carnes","carpinteros+de+obra",
        "carros+de+golf","casas+rodantes","caza+y+pesca","centros+educativos","cereales","chocolate",
        "ciclismo","cines","circos","clases+de+idiomas","clubes+deportivos","colchoneria","colegios",
        "comics","concesionarios","conciertos","conejo+mascota","contadores","corseterias",
        "cortinas+y+persianas","cristalerias","cursos","desfiles+de+modas","discotecas",
        "disenadores+graficos","droguerias","educacion+artistica","educacion+especial",
        "educacion+primaria","educacion+privada","educacion+religiosa","educacion+secundaria",
        "electricistas","electrodomesticos","escribanos","escuelas","estetica+corporal","eventos",
        "florerias","gatos+mascota","higiene+personal","iluminacion","imprentas",
        "instrumentos+musicales","jardineria","joyerias","jugueterias","librerias","maquillajes",
        "marroquinerias","muebles","pajarerias","paseadores+de+perros","peceras","peces","peluquerias",
        "peluquerias+de+mascotas","piercings","tatuajes","unas","venta+de+inmuebles","veterinarias"
    ];

    // URL base de tu sitio para construir la URL de la categoría
    const BASE_URL_CATEGORIAS = 'https://fedegewis.github.io/mexico/';
    // URL de fallback (página de inicio o error)
    const FALLBACK_URL = 'https://fedegewis.github.io/';


    document.getElementById('form-buscar').addEventListener('submit', function(e) {
        e.preventDefault();
        let busqueda = document.getElementById('buscar_tope').value.trim();

        if (busqueda) {
            // Normalizar la búsqueda del usuario: minúsculas, sin espacios extra y reemplazando espacios por '+'
            const busquedaNormalizada = busqueda.toLowerCase().trim().replace(/\s+/g, '+');

            // Buscar la PRIMERA categoría que contenga la palabra de búsqueda normalizada.
            const categoriaEncontrada = paginas.find(slug => {
                // El slug ya está en minúsculas y con '+', se compara si incluye la búsqueda normalizada.
                // Ejemplo: Si busquedaNormalizada es 'aceites', coincidirá con el slug 'aceites+vegetales'.
                return slug.includes(busquedaNormalizada);
            });

            if (categoriaEncontrada) {
                // Si se encuentra una coincidencia, se construye la URL con el slug encontrado.
                const url = BASE_URL_CATEGORIAS + categoriaEncontrada;
                window.location.href = url;
            } else {
                // Si no se encuentra ninguna coincidencia, se redirige al inicio (fallback).
                window.location.href = FALLBACK_URL;
            }
        }
    });
</script>